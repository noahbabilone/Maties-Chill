<?php/** * Created by PhpStorm. * User: Yann * Date: 21/02/2016 * Time: 17:25 */namespace MCBundle\Controller\Rest;use MCBundle\Entity\Film;use Symfony\Bundle\FrameworkBundle\Controller\Controller;use FOS\RestBundle\Controller\Annotations\View;use FOS\RestBundle\Controller\Annotations\Get;use FOS\RestBundle\Controller\Annotations\Delete;use Sensio\Bundle\FrameworkExtraBundle\Configuration\ParamConverter;class MCRestFilmController extends Controller{    /**     * @Get("/films")     * @return array     * @View()     */    public function getFilmsAction()    {        $em = $this->getDoctrine()->getManager();        $films = $em->getRepository('MCBundle:Film')->findAll();        return array('films' => $films);    }    /**     * Get a Film.     * @Get("/film/{film}")     *     * @param Film $film     * @return array     * @View()     * @ParamConverter("film", class="MCBundle:Film")     */    public function getFilmAction(Film $film)    {        return array('film' => $film);    }    public function addFilmAction()    {    }    /**     * Removes a Film.     * @Delete("/film/delete/id={id}")     * @param int $id the Film id     *     * @return View     */    public function removeFilmAction($id)    {        $em = $this->getDoctrine()->getManager();        $film = $em->getRepository('MCBundle:Film')->find($id);        $em->remove($film);        $em->flush();        $result = $em->getRepository('MCBundle:Film')->find($id);        return (null == $result) ? "Success" : "Error Deleting";    }}