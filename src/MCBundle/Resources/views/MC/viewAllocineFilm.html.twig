{% extends "MCBundle::layout.html.twig" %}     {% block stylesheets %}         {{ parent() }}         {% stylesheets         'bundles/mc/rating/css/star-rating.css'         'bundles/mc/rating/css/theme-krajee-svg.css'         'assets/slick/slick/slick.css'         'assets/slick/slick/slick-theme.css'         filter='cssrewrite' %}         <link rel="stylesheet" href="{{ asset_url }}"/>         {% endstylesheets %}     {% endblock %}{% block title %}    Films - {{ parent() }}{% endblock %}{% block body_mc %}    <div class="row">        {% if result is defined and  result.movie is defined %}            {% set film = result.movie %}            {#{{ dump(film) }}#}            <div class="col-sm-12">                {#<ol class="breadcrumb">#}                {#<li><a href="#">Accueil</a></li>#}                {#<li><a href="#">Film</a></li>#}                {#<li class="active">{{ film.title }}</li>#}                {#</ol>#}            </div>            <div class="col-sm-12">                <h2>{{ film.title }}</h2>            </div>            <div class="col-sm-12">                <div class="caption clearfix">                    {% if film.poster is defined and film.poster %}                        <img src="{{ film.poster.href }}" width="180" height="264"                             class="thumbnail pull-left margin-right"                             alt="{{ film.poster.name }}">                    {% else %}                        <img src="../../../uploads/images/400x300.png" width="120" height="174"                             class="thumbnail pull-left margin-right"                             alt="{{ film.originalTitle }}">                    {% endif %}                    <ul class="list-unstyled ">                        {% if film.release is defined and film.release %}                            <li><b>Date de sortie: </b>{{ film.release.releaseDate | date("d F Y") }} </li>                        {% endif %}                        {% if film.runtime is defined and film.runtime %}                            {#<li><b>Durée: </b> {{ mc_allocine.formatDuree(film.runtime ) }} </li>#}                            <li><b>Durée: </b> {{ film.runtime | date("g") }}h{{ film.runtime | date("i") }}min</li>                        {% endif %}                        {% if film.nationality is defined and film.nationality %}                            <li><b>Nationalité: </b>                                {% for key, value in film.nationality %}                                    {{ mc_allocine.getObject(value) }}                                    {% if loop.index < film.nationality |length %}){% endif %}                                {% endfor %}                            </li>                        {% endif %}                        {% if film.castingShort.directors is defined and film.castingShort.directors %}                            <li><b>Réalisateur: </b>{{ film.castingShort.directors }}</li>                        {% endif %}                        {% if film.castingShort.actors is defined and film.castingShort.actors %}                            <li><b>Avec: </b>{{ film.castingShort.actors }}</li>                        {% endif %}                        {% if film.genre is defined and film.genre %}                            <li><b>Genre(s): </b>                                {% for key, value in film.genre %}                                    {{ mc_allocine.getObject(value) }}                                    {% if loop.index < film.genre |length %}/{% endif %}                                {% endfor %}                            </li>                        {% endif %}                        {% if film.statistics.pressRating is defined and film.statistics.pressRating %}                            <li><b>Notes Presses: </b> {{ film.statistics.pressRating | round(1, 'floor') }}                            </li>                            <li>                                <input class="kv-svg rating-loading"                                       value="{{ film.statistics.pressRating | round(1, 'floor') }}"                                       data-size="xs" title="Notes Presses">                            </li>                        {% endif %}                        {% if film.statistics.userRating is defined and film.statistics.userRating %}                            <li><b>Notes Spetacteurs: </b>{{ film.statistics.userRating | round(1, 'floor') }}</li>                            <li><input type="text" class="kv-svg rating-loading"                                       value="{{ film.statistics.userRating | round(1, 'floor') }}"                                       data-size="xs" title="Notes spetacteurs">                            </li>                        {% endif %}                        <li class="margin-top">                            {% if film.trailer is defined and film.trailer %}                                <a href="#" class="btn btn-primary btn-sm">Voir la bande d'annonce <i                                            class="glyphicon glyphicon-facetime-video"></i></a>                            {% endif %}                            <a href="#" class="btn btn-info btn-sm">Voir les séances <i                                        class="glyphicon glyphicon-th-list"></i></a></li>                    </ul>                </div>            </div>            {% if film.trailer is defined and film.trailer %}                {#<div class="col-sm-12">#}                {#<div class="embed-responsive embed-responsive-16by9">#}                {#<iframe class="embed-responsive-item" src="{{ film.trailer.href }}"></iframe>#}                {#</div>#}                {##}                {#</div>#}                {#<video width="320" height="240" controls>#}                {#<source src="{{ film.trailer.href }}">#}                {#</video>#}            {% endif %}            {% if film.synopsis is defined and film.synopsis %}                <div class="col-sm-12">                    <h4>Description:</h4>                    <p>{{ film.synopsis }}</p>                </div>            {% endif %}            {% if film.trailer is defined and film.trailer %}                {# <div class="col-sm-12">                     <p>{{ film.trailer.href }}</p>                 </div>#}            {% endif %}            {% if film.media is defined and film.media %}                <div class="col-sm-12">                    <h4>Photos</h4>                </div>                <div class="col-sm-12 slider" id="count-image-{{ film.media | length }}">                    {% for img in film.media %}                        <div>                            <img src="{{ img.thumbnail.href }}" class="thumbnail center-block" alt=""                                 title="{{ film.title }}"                                 width="110" height="144">                        </div>                    {% endfor %}                </div>            {% endif %}        {% else %}            <div class="col-md-3 hero-feature">                {#Pas de résultat pour le film {{ motsCles }}#}                Pas de films trouvé            </div>        {% endif %}    </div>{% endblock %}{% block javascripts %}    {{ parent() }}    {% javascripts    'bundles/mc/rating/js/star-rating.js'    'bundles/mc/rating/js/star-rating_locale_fr.js'    'assets/slick/slick/slick.min.js' %}    <script src="{{ asset_url }}"></script>    {% endjavascripts %}    <script type="text/javascript">        $(document).on('ready', function () {            $('.kv-svg').rating({                displayOnly: true, step: 0.5,                theme: 'krajee-svg',                filledStar: '<span class="krajee-icon krajee-icon-star"></span>',                emptyStar: '<span class="krajee-icon krajee-icon-star"></span>'            });            console.log($(".slider").attr("id").replace("count-image-", ""));            $('.slider').slick({                dots: true,                infinite: true,                speed: 300,                slidesToShow: 6,                slidesToScroll: 6,                lazyLoad: 'ondemand',            });        });    </script>{% endblock %}